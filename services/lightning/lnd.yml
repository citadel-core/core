# SPDX-FileCopyrightText: 2022 Citadel and contributors
#
# SPDX-License-Identifier: GPL-3.0-or-later

lightning:
  container_name: lightning
  image: lightninglabs/lnd:v0.15.4-beta@sha256:f5b19812ab7d28faa350838dac4bb88e7fcf9ae905e44d3539be41a97b80ca23
  user: 1000:1000
  depends_on:
  - tor
  - bitcoin
  volumes:
  - ${PWD}/lnd:/data/.lnd
  - ${PWD}/walletpassword:/walletpassword
  environment:
    HOME: /data
  restart: on-failure
  stop_grace_period: 5m30s
  ports:
  - 9735:9735
  - $LND_REST_PORT:$LND_REST_PORT
  - $LND_GRPC_PORT:$LND_GRPC_PORT
  networks:
    default:
      ipv4_address: $LND_IP
